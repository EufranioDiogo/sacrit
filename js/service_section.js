const serviceItens = {
  Networking: [
    {
      id: "service-item-1",
      title: "Roteamento",
      icon: "../assets/icons/clarity_router-solid.svg",
      activeIcon: "../assets/icons/clarity_router-solid.svg",
      description:
        "Temos a melhor solução de roteamento para a sua empresa, usando os mais diferentes e vendors.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-2",
      title: "Switching",
      icon: "../assets/icons/mi_switch.svg",
      activeIcon: "../assets/icons/mi_switch.svg",
      description:
        "lorem lorem lorem lorem ipsum dolor sit amet, consectetur adip",
      image: "../assets/images/pexels-brett-sayles-4339335.jpg",
    },
    {
      id: "service-item-3",
      title: "Mobility",
      icon: "../assets/icons/ion_wifi.svg",
      activeIcon: "../assets/icons/ion_wifi.svg",
      description: "Descrição da Mobility.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-4",
      title: "Communications",
      icon: "../assets/icons/carbon_network-4.svg",
      activeIcon: "../assets/icons/carbon_network-4.svg",
      description: "Descrição da Communications.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-5",
      title: "Timing Synchronization",
      icon: "../assets/icons/formkit_time.svg",
      activeIcon: "../assets/icons/formkit_time.svg",
      description: "Descrição do Timing Synchronization.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-6",
      title: "Management and Orchestration",
      icon: "../assets/icons/pajamas_container-image.svg",
      activeIcon: "../assets/icons/pajamas_container-image.svg",
      description: "Descrição do Management and Orchestration.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-7",
      title: "Broadband Wireless Solutions",
      icon: "../assets/icons/carbon_undefined.svg",
      activeIcon: "../assets/icons/carbon_undefined.svg",
      description: "Descrição do Broadband Wireless Solutions.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-8",
      title: "Mobile Backhaul",
      icon: "../assets/icons/carbon_undefined.svg",
      activeIcon: "../assets/icons/carbon_undefined.svg",
      description: "Descrição do Mobile Backhaul.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
  ],
  "Data Center": [
    {
      id: "service-item-1",
      title: "Servidores",
      icon: "../assets/icons/bi_hdd-network-fill.svg",
      activeIcon: "../assets/icons/bi_hdd-network-fill.svg",
      description:
        "lorem lorem lorem lorem ipsum dolor sit amet, consectetur adip",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-2",
      title: "Armazenamento",
      icon: "../assets/icons/mdi_storage.svg",
      activeIcon: "../assets/icons/mdi_storage.svg",
      description:
        "lorem lorem lorem lorem ipsum dolor sit amet, consectetur adip",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-3",
      title: "Data Center",
      icon: "../assets/icons/carbon_network-enterprise.svg",
      activeIcon: "../assets/icons/carbon_network-enterprise.svg",
      description: "Descrição de Data Center.",
      image: "../assets/images/pexels-brett-sayles-4597280.jpg",
    },
  ],
  Colaboração: [
    {
      id: "service-item-1",
      title: "Phone Systems",
      icon: "../assets/icons/ic_sharp-phone.svg",
      activeIcon: "../assets/icons/ic_sharp-phone.svg",
      description: "Descrição do Phone Systems.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-2",
      title: "MS",
      icon: "../assets/icons/carbon_undefined.svg",
      activeIcon: "../assets/icons/carbon_undefined.svg",
      description: "Descrição do MS.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-3",
      title: "Video Conferencing",
      icon: "../assets/icons/mdi_virtual-meeting.svg",
      activeIcon: "../assets/icons/mdi_virtual-meeting.svg",
      description: "Descrição do Video Conferencing.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-4",
      title: "Contact Center",
      icon: "../assets/icons/mdi_customer-service.svg",
      activeIcon: "../assets/icons/mdi_customer-service.svg",
      description: "Descrição do Contact Center.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
  ],
  "Infra-estrutura": [
    {
      id: "service-item-1",
      title: "FTTx",
      icon: "../assets/icons/carbon_undefined.svg",
      activeIcon: "../assets/icons/carbon_undefined.svg",
      description: "Descrição do FTTx.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-2",
      title: "Cabling",
      icon: "../assets/icons/ic_twotone-cable.svg",
      activeIcon: "../assets/icons/ic_twotone-cable.svg",
      description: "Descrição do Cabling.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-3",
      title: "Optical Tx Solutions",
      icon: "../assets/icons/flat-color-icons_cable-release.svg",
      activeIcon: "../assets/icons/flat-color-icons_cable-release.svg",
      description: "Descrição do Optical Tx Solutions.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
  ],
  Security: [
    {
      id: "service-item-1",
      title: "Gateway Protection",
      icon: "../assets/icons/carbon_ibm-cloud-privileged-access-gateway.svg",
      activeIcon: "../assets/icons/carbon_ibm-cloud-privileged-access-gateway.svg",
      description: "Descrição do Gateway Protection.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-2",
      title: "CCTV",
      icon: "../assets/icons/icon-park-solid_surveillance-cameras-two.svg",
      activeIcon: "../assets/icons/icon-park-solid_surveillance-cameras-two.svg",
      description: "Descrição do CCTV.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
    {
      id: "service-item-3",
      title: "Access Security",
      icon: "../assets/icons/mdi_security-lock-outline.svg",
      activeIcon: "../assets/icons/mdi_security-lock-outline.svg",
      description: "Descrição do Access Security.",
      image: "../assets/images/pexels-jah-nomad-17220238.jpg",
    },
  ],
};

const keysServiceItens = Object.keys(serviceItens);
let actualStart = 0;
let actualEnd = 0;

const createElement = ({ id, title, icon, activeIcon, description, image }) => {
  const li = document.createElement("li");
  li.id = id.toString();
  li.className = "inner-section-2--service-item inner-section-2--service-item";
  li.addEventListener("mouseenter", (ev) => {
    ev.stopPropagation();
    document.querySelector(
      ".inner-section-2-container--left"
    ).style.backgroundImage = `url('${image}')`;
  });
  li.addEventListener("mouseleave", (ev) => {
    ev.stopPropagation();
  });

  const div = document.createElement("div");

  div.className = "inner-section-2--service-item--container";

  const imageElement = document.createElement("img");

  imageElement.className = "inner-section-2--service-item--img";
  imageElement.src = icon;
  imageElement.alt = "Icone " + title;

  const span = document.createElement("span");

  span.className = "inner-section-2--service-item--text";

  span.innerText = title;

  div.appendChild(imageElement);
  div.appendChild(span);

  li.appendChild(div);

  li.addEventListener("mouseover", (ev) => {
    ev.stopPropagation();
    ev.target.classList.toggle("inner-section-2--service-item_active");
    document.querySelector(
      ".inner-section-2-container--left"
    ).style.backgroundImage = image;
    imageElement.src = activeIcon;
    document.querySelector(
      ".inner-section-2-container--left--content-container-title"
    ).innerText = title;
    document.querySelector(
      ".inner-section-2-container--left--content-container-description"
    ).innerText = description;
  });
  li.addEventListener("mouseleave", (ev) => {
    ev.stopPropagation();
    ev.target.classList.toggle("inner-section-2--service-item_active");
    imageElement.src = icon;
    document.querySelector(
      ".inner-section-2-container--left--content-container-title"
    ).innerText = title;
    document.querySelector(
      ".inner-section-2-container--left--content-container-description"
    ).innerText = description;
  });

  return li;
};

const createSection = ({ start = 0, end = 0 }) => {
  end =
    end == 0
      ? keysServiceItens.length >= 2
        ? 2
        : keysServiceItens.length
      : end;
  actualStart = end;

  const sectionsContainer = document.querySelector(
    ".inner-section-2-container--control-container"
  );

  sectionsContainer.innerHTML = "";

  for (let i = start; i < end; i++) {
    const key = keysServiceItens[i];
    const section = document.createElement("div");
    section.className = "inner-section-2-container-control-container--itens";

    const heading3 = document.createElement("h3");
    heading3.innerText = key;
    heading3.className = "heading-3";

    const serviceItensListElement = document.createElement("ul");
    serviceItensListElement.className = "inner-section-2-service-itens-list";

    services = serviceItens[key];

    for (let service of services) {
      serviceItensListElement.appendChild(createElement(service));
    }

    section.appendChild(heading3);
    section.appendChild(serviceItensListElement);

    sectionsContainer.appendChild(section);
  }
};

let showAll = false;
const moreButton = document.querySelector(".inner-section-2--see-more-itens");

moreButton.addEventListener("click", () => {
  if (showAll == true) {
    actualStart = 0;
    moreButton.innerText = "Mais";
    showAll = false;
    createSection({ start: 0, end: 0 });
  } else {
    createSection({
      start: 0,
      end:
        actualStart + 2 >= keysServiceItens.length
          ? keysServiceItens.length
          : actualStart + 2,
    });

    if (actualStart >= keysServiceItens.length) {
      moreButton.innerText = "Ocultar";
      showAll = true;
    }
  }
});

createSection({});
